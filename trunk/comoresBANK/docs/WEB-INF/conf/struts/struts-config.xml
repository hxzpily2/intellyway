<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>
	<form-beans>
		<form-bean name="loginForm" type="org.apache.struts.action.DynaActionForm">
			<form-property name="j_username" type="java.lang.String" />
			<form-property name="j_password" type="java.lang.String" />
		</form-bean>	
		<form-bean name="createUserForm" type="com.account.web.form.CreateUserForm"/>		
	</form-beans>	
	<global-forwards>
		<forward name="homePage" path="/application/Home.do?reqCode=consultation"/>
	</global-forwards>
	<action-mappings>
		<!-- errors -->
		<action path="/authentication/AccessDenied" 
				type="org.apache.struts.actions.ForwardAction" 
				parameter="/WEB-INF/jsp/accessDenied.jsp" />
		<action path="/AuthenticationFailed" name="loginForm"
				type="org.apache.struts.actions.ForwardAction"
				parameter="/LoginForm.do" />
		
		
		<action path="/authentication/Login" 
				type="com.account.web.action.UserAction" 
				parameter="reqCode">
				<forward name="loginPage" path="/WEB-INF/jsp/authentication/loginForm.jsp"/>
				<forward name="logout" path="/authentication/Login.do?reqCode=authentication"/>
		</action>
		<action path="/application/Home" 
				type="com.account.web.action.AccountAction" 
				parameter="reqCode"
				name="createUserForm"				
                scope="request"
                validate="false"				
				>
				<forward name="homePage" path="/WEB-INF/jsp/consultation/homepage.jsp"/>
				<forward name="listeTransactions" path="/WEB-INF/jsp/consultation/transactions.jsp"/>
				<forward name="searchCompte" path="/WEB-INF/jsp/administration/searchCompte.jsp"/>
				<forward name="createUser" path="/WEB-INF/jsp/administration/createuser.jsp"/>
				<forward name="updateUser" path="/WEB-INF/jsp/administration/updateuser.jsp"/>
				<forward name="sessionExpired" path="/WEB-INF/jsp/authentication/expired.jsp"/>
				<forward name="listeComptes" path="/WEB-INF/jsp/administration/comptes.jsp"/>				
		</action>
		<action path="/authentication/j_acegi_security_check" 
				type="org.apache.struts.actions.ForwardAction" 
				parameter="/authentication/j_acegi_security_check.do"
				name="loginForm" />	
									
		<action path="/authentication/LogonProcess" name="loginForm"
				type="com.account.web.action.UserAction"
				parameter="reqCode">
				<forward name="login" path="/j_acegi_security_check"/>
		</action>
		
		<action path="/authentication/LogOff" 
				type="org.apache.struts.actions.ForwardAction"
				parameter="/index.jsp" />
	</action-mappings>
	
	<message-resources parameter="I18nIhmAccount" />
	
</struts-config>
