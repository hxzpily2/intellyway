<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute"
	backgroundAlpha="0"
    showTitleBar="false"
    showStatusBar="false"
    showGripper="false"
    borderStyle="none"
    creationComplete="init()" xmlns:components="commun.components.*"
    close="closeHandler()">
	
	<mx:Script>
		<![CDATA[
			import mx.controls.Alert;
			import view.LoginWindow;
			private var facade:ApplicationFacade = ApplicationFacade.getInstance();
			public var window:LoginWindow;
			private function init():void{
				facade.startup(this);
				this.addEventListener(NativeWindowDisplayStateEvent.DISPLAY_STATE_CHANGE,handleChangeState);
				openLoginWindow();				
			}
			
			private function handleChangeState(event:NativeWindowDisplayStateEvent):void{
				if(event.afterDisplayState == NativeWindowDisplayState.MINIMIZED){ 
					window.orderToBack();						
				}else if(event.afterDisplayState == NativeWindowDisplayState.NORMAL){
					window.orderToFront();					
				} 
			}
			
			private function openLoginWindow():void{
				window = new LoginWindow();
				window.width = 200;
				window.height = 200;
				window.type = NativeWindowType.LIGHTWEIGHT;
				window.systemChrome = "none";
				window.transparent = true;											
				window.open();
			}
			
			private function closeHandler():void{
				if(window!=null)
					window.close();
			}
		]]>
	</mx:Script>
	<mx:Style source="AmjiTheme.css"/>
	<!--<mx:VBox width="100%" height="100%" backgroundColor="#FFFFFF">
	<mx:Spacer height="1.2" />
		<mx:HBox width="100%" horizontalGap="0" horizontalAlign="right">			
			<components:WindowMin label="" width="43" height="27.5" useHandCursor="true" buttonMode="true"/>
			<components:WindowMax label="" width="43" height="27.5" useHandCursor="true" buttonMode="true"/>
			<components:WindowClose label="" width="43" height="27.5" useHandCursor="true" buttonMode="true" click="this.close();"/>
			<mx:Spacer width="18" /> 	
		</mx:HBox>
			
	</mx:VBox>-->
	
</mx:WindowedApplication>

